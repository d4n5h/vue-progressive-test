<html>

<head>
    <title>Test Progressive Loading</title>
    <script src="https://unpkg.com/vue/dist/vue.min.js"></script>
    <script>
        // when life is settled, load up the fun stuff
        document.addEventListener('DOMContentLoaded', function () {
            window.vm = new Vue({
                el: '#app',
                data: {
                    m1: "This is reactive",
                    items:[1,2,3,4]
                },
                methods: {
                    test: function (e) {
                        this.$set(this, 'm1', e)
                    }
                }
            })
        })
    </script>
</head>

<body>
    <div id="app">
        <custom-element></custom-element>
        <!-- Progressive load css -->
        <p-link rel="stylesheet" href="./style1.css"></p-link>

        <div class="prog test test2" p-in="vm.test('In')" p-out="vm.test('Out')" p-active="true"
            style="background-color:#cacaca;height:2000px;">
            <div>
                <p>{{ m1 }}</p>
            </div>
        </div>

        <!-- Progressive load css -->
        <p-link rel="stylesheet" href="./style2.css"></p-link>
        <div class="test test2" style="background-color:#3d3d3d;color:#ffffff;font-family:Sofia;height:2000px;">
            <div v-for="(item, idx) in items" :key="idx">
                <p-content src="http://localhost:9001/fetchContent">Placeholder until loaded...</p-content>
            </div>
        </div>

        <!-- Progressive load css -->
        <p-link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia"></p-link>

        <!-- Progressive load script -->
        <p-script>
            console.log('TEST');
        </p-script>

        <p-script src="./test.js"></p-script>

        <!-- Progressive load image -->
        <p-img style="width: 100%;height:900px;"
            src="https://filedn.com/ltOdFv1aqz1YIFhf4gTY8D7/ingus-info/BLOGS/Photography-stocks3/stock-photography-slider.jpg" />
        </p-img>

    </div>
    <script src="./prog.js"></script>
</body>

</html>